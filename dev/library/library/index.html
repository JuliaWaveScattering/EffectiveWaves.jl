<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Library · EffectiveWaves.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">EffectiveWaves.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../manual/introduction/">Quick introduction</a></li><li><a class="tocitem" href="../../manual/background/">Theoretical background</a></li><li><a class="tocitem" href="../../manual/wavenumbers/">Effective wavenumbers</a></li><li><a class="tocitem" href="../../manual/reflection/">Reflection and transmission</a></li><li><a class="tocitem" href="../../manual/sphere/">Scattering from a sphere</a></li><li><a class="tocitem" href="../../manual/pair-correlation/">Pair correlation</a></li></ul></li><li class="is-active"><a class="tocitem" href>Library</a><ul class="internal"><li><a class="tocitem" href="#Defining-the-material"><span>Defining the material</span></a></li><li><a class="tocitem" href="#The-symmetry-of-the-material-and-source"><span>The symmetry of the material and source</span></a></li><li><a class="tocitem" href="#Types-of-waves"><span>Types of waves</span></a></li><li><a class="tocitem" href="#Effective-wavenumbers-and-wavemodes"><span>Effective wavenumbers and wavemodes</span></a></li><li><a class="tocitem" href="#Effective-wavemodes-and-eignvectors"><span>Effective wavemodes and eignvectors</span></a></li><li><a class="tocitem" href="#Reflection-coefficients"><span>Reflection coefficients</span></a></li><li><a class="tocitem" href="#Transmission"><span>Transmission</span></a></li><li><a class="tocitem" href="#Statistics"><span>Statistics</span></a></li><li><a class="tocitem" href="#All-types"><span>All types</span></a></li></ul></li><li><a class="tocitem" href="../../theory/README/">Theory</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/vary_two_species/README/">Vary volume fraction of the two species</a></li><li><a class="tocitem" href="../../examples/equivalent-symmetries/README/">Equivalent symmetries</a></li><li><a class="tocitem" href="../../examples/matched_method/README/">A numerical matching method</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Library</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Library</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/master/docs/src/library/library.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Base"><a class="docs-heading-anchor" href="#Base">Base</a><a id="Base-1"></a><a class="docs-heading-anchor-permalink" href="#Base" title="Permalink"></a></h1><ul></ul><h2 id="Defining-the-material"><a class="docs-heading-anchor" href="#Defining-the-material">Defining the material</a><a id="Defining-the-material-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-the-material" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MultipleScattering.PhysicalMedium" href="#MultipleScattering.PhysicalMedium"><code>MultipleScattering.PhysicalMedium</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">PhysicalMedium{Dim,FieldDim}</code></pre><p>An abstract type used to represent the physical medium, the dimension of the field, and the number of spatial dimensions. We expect every sub-type of PhysicalMedium{Dim,1} to have a field c which is the complex wave speed. </p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MultipleScattering.Acoustic" href="#MultipleScattering.Acoustic"><code>MultipleScattering.Acoustic</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Acoustic{T&lt;:AbstractFloat,Dim}(ρ::T, c::Complex{T})
Acoustic(ρ::T, c::Union{T,Complex{AbstractFloat}}, Dim::Integer)</code></pre><p>Physical properties for a homogenous isotropic acoustic medium with wavespeed (c) and density (ρ)</p><p>Simulations in this medium produce scalar (1D) fields in Dim dimensions.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParticleCorrelations.Specie" href="#ParticleCorrelations.Specie"><code>ParticleCorrelations.Specie</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Specie</p><p>Represents a set of particles which are all the same. The type of particle is given by <code>Specie.particle</code> and the volume fraction this specie occupies is given by <code>Specie.volume_fraction</code>.</p><p>We can use <code>Specie.numberofparticles</code> to specify the number of particles, otherwise for an infinite <code>Specie.numberofparticles = Inf</code>.</p><p>The minimum distance between any two particles will equal <code>outer_radius(Specie) * Specie.separation_ratio</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.Material" href="#EffectiveWaves.Material"><code>EffectiveWaves.Material</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Material(region::Shape, micro::Microstructure, [, numberofparticles = Inf])</code></pre><p>Creates a material filled with a <a href="#EffectiveWaves.Microstructure"><code>Microstructure</code></a>&#39;s inside a <a href="library/@ref"><code>Shape</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/material_types.jl#L74-L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MultipleScattering.PlaneSource" href="#MultipleScattering.PlaneSource"><code>MultipleScattering.PlaneSource</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">PlaneSource(medium::P, amplitude::SVector, direction::SVector)</code></pre><p>Is a struct type which describes a plane-wave source that drives/forces the whole system. It has three fields: a physical <code>medium</code>, an <code>amplitude</code> of the source, and the direction the propagate in <code>direction</code>.</p><p>For any given angular frequency ω, the PlaneSource has the value <span>$e^{i ω/c \mathbf v \cdot \mathbf x }$</span> at the point <span>$\mathbf x$</span>, where <span>$c$</span> is the medium wavespeed and <span>$\mathbf v$</span> is the direction.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MultipleScattering.RegularSource" href="#MultipleScattering.RegularSource"><code>MultipleScattering.RegularSource</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">RegularSource(medium::P, field::Function, coef::Function)</code></pre><p>Is a struct type which describes the source field that drives/forces the whole system. It is also known as an incident wave. It has three fields <code>RegularSource.medium</code>, <code>RegularSource.field</code>, and <code>RegularSource.coef</code>.</p><p>The source field at the position &#39;x&#39; and angular frequency &#39;ω&#39; is given by</p><pre><code class="language-julia-repl">x = [1.0,0.0]
ω = 1.0
RegularSource.field(x,ω)</code></pre><p>The field <code>RegularSource.coef</code> regular<em>basis</em>function(medium::Acoustic{T,2}, ω::T)</p></div></section></article><p>Currently the physical medium can be <a href="https://juliawavescattering.github.io/MultipleScattering.jl/dev/library/acoustics/">Acoustic</a>s. Both Acoustic, PlaneSource, and RegularSource are all imported from the package <a href="https://juliawavescattering.github.io/MultipleScattering.jl/dev/">MultipleScattering</a>. In the future these will be moved to a new package WaveScatteringBase. Much of the code is dispatched based on the underlying symmetries of the problem</p><h2 id="The-symmetry-of-the-material-and-source"><a class="docs-heading-anchor" href="#The-symmetry-of-the-material-and-source">The symmetry of the material and source</a><a id="The-symmetry-of-the-material-and-source-1"></a><a class="docs-heading-anchor-permalink" href="#The-symmetry-of-the-material-and-source" title="Permalink"></a></h2><p>The symmetry shared between the material shape and source are used to specialise the form of the wavemode, see <a href="../../manual/background/#Theoretical-background">Theoretical background</a>.  </p><article class="docstring"><header><a class="docstring-binding" id="MultipleScattering.Symmetry" href="#MultipleScattering.Symmetry"><code>MultipleScattering.Symmetry</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">Symmetry(T1,T2)</code></pre><p>returns the combined symmetry of the two objects T1 and T2.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MultipleScattering.WithoutSymmetry" href="#MultipleScattering.WithoutSymmetry"><code>MultipleScattering.WithoutSymmetry</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">WithoutSymmetry</code></pre><p>A type used to describe materials and incident waves which share no common symmetry. This will lead to the most general regular wave expansion for the eignvectors.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MultipleScattering.PlanarSymmetry" href="#MultipleScattering.PlanarSymmetry"><code>MultipleScattering.PlanarSymmetry</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">PlanarSymmetry</code></pre><p>A type used to describe materials and incident waves that both share a planar symmetry.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MultipleScattering.AzimuthalSymmetry" href="#MultipleScattering.AzimuthalSymmetry"><code>MultipleScattering.AzimuthalSymmetry</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">AzimuthalSymmetry</code></pre><p>A type used to describe materials and incident waves in 3 spatial dimensions that share a symmetry about the azimuth.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MultipleScattering.PlanarAzimuthalSymmetry" href="#MultipleScattering.PlanarAzimuthalSymmetry"><code>MultipleScattering.PlanarAzimuthalSymmetry</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">PlanarAzimuthalSymmetry</code></pre><p>A type used to describe a materail and incident wave which have both <a href="#MultipleScattering.PlanarSymmetry"><code>PlanarSymmetry</code></a> and <a href="#MultipleScattering.AzimuthalSymmetry"><code>AzimuthalSymmetry</code></a>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MultipleScattering.RadialSymmetry" href="#MultipleScattering.RadialSymmetry"><code>MultipleScattering.RadialSymmetry</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">RadialSymmetry</code></pre><p>A type used to describe materials and incident waves in that are both radially symmetric. That is, the material is a sphere, and the incident wave is radially symmetric around the center of this spherical material.</p></div></section></article><h2 id="Types-of-waves"><a class="docs-heading-anchor" href="#Types-of-waves">Types of waves</a><a id="Types-of-waves-1"></a><a class="docs-heading-anchor-permalink" href="#Types-of-waves" title="Permalink"></a></h2><p>There are two main types used.</p><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.EffectivePlaneWaveMode" href="#EffectiveWaves.EffectivePlaneWaveMode"><code>EffectiveWaves.EffectivePlaneWaveMode</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">EffectivePlaneWaveMode{T&lt;:AbstractFloat,Dim} &lt;: AbstractWaveMode</code></pre><p>Is a struct that represents a mode of the average scattering coefficients for plane wave symmetry. That is, when using an incident plane wave and a plate or halfspace for the material geometry.</p><p>This wave mode has frequency <span>$\omega$</span> and has has the value <span>$A e^{i k \mathbf v \cdot \mathbf x }$</span> at the point <span>$\mathbf x$</span>, where <span>$A$</span> are the eigenvectors, <span>$\mathbf v$</span> is the direction and <span>$k$</span> is the effective wavenumber. We represent these quantities as</p><ul><li><span>$\omega =$</span> <code>EffectivePlaneWaveMode.ω</code></li><li><span>$k =$</span> <code>EffectivePlaneWaveMode.wavenumber</code></li><li><span>$v =$</span> <code>EffectivePlaneWaveMode.direction</code></li><li><span>$A =$</span> <code>EffectivePlaneWaveMode.eigenvectors</code></li><li><span>$M =$</span> <code>EffectivePlaneWaveMode.basis_order</code></li></ul><p>To recover the average scattering coefficients <span>$F$</span> from a particle use:</p><p><span>$F_{ns} = i^m A_{n s} e^{-i n  θ}$</span></p><p>where <span>$n$</span> is multi-index for 3 dimensions and <span>$s$</span> ranges from 1 to the number of species.</p><p>In 2D, inconvieniently, an extra factor of <span>$e^{i k \mathbf v \cdot \mathbf x}$</span> needs to be multiplied on the right of the above equation where <code>θ</code> is calculated from <a href="#EffectiveWaves.transmission_angle-Tuple{Array{T,1} where T,Array{T,1} where T}"><code>transmission_angle</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/wave_types.jl#L15-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.EffectiveRegularWaveMode" href="#EffectiveWaves.EffectiveRegularWaveMode"><code>EffectiveWaves.EffectiveRegularWaveMode</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">EffectiveRegularWaveMode{T,P&lt;:PhysicalMedium,S&lt;:AbstractSymmetry} &lt;: AbstractRegularWaveMode</code></pre><p>Is a struct that represents a mode of the average scattering coefficients <span>$F$</span> in the form</p><p><span>$F_{n s} (\mathbf r) =  \sum_{n_1 p} A_{p n n_1 s} \mathrm v_{n_1}(k \mathbf r)$</span></p><p>where <span>$\mathbf r$</span> is a position vector in space, <span>$k$</span> the wavenumber, <span>$p$</span> is used to count the number of eigenvectors, <span>$s$</span> the number of species, <span>$n$</span> and <span>$n_1$</span> are multi-indices, and <span>$\mathrm v_{n_1}$</span> is a regular spherical wave of order <span>$n_1$</span> which in 3D is given by</p><p><span>$\mathrm v_{n_1}(\mathbf r) = \mathrm j_{\ell_1} (k r) \mathrm Y_{\ell_1 m_1}(\hat{\mathbf r})$</span></p><p>and <span>$\mathrm Y_{\ell_1 m_1}$</span> is a spherical harmonic, <span>$n_1 = (\ell_1,m_1)$</span> where we always have that <span>$\ell_1 \geq 0$</span> and <span>$\ell_1 \geq |m_1|$</span> according to the conventions of <a href="https://en.wikipedia.org/wiki/Spherical_harmonics">spherical harmonics</a>.</p><p>To translate the mathematics to Julia code we use</p><ul><li><span>$\omega =$</span> <code>EffectiveRegularWaveMode.ω</code></li><li><span>$k =$</span> <code>EffectiveRegularWaveMode.wavenumber</code></li><li><span>$A =$</span> <code>EffectiveRegularWaveMode.eigenvectors</code></li><li><span>$n =$</span> <code>EffectiveRegularWaveMode.basis_order</code></li><li><span>$n_1 =$</span> <code>EffectiveRegularWaveMode.basis_field_order</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/wave_types.jl#L63-L84">source</a></section></article><h2 id="Effective-wavenumbers-and-wavemodes"><a class="docs-heading-anchor" href="#Effective-wavenumbers-and-wavemodes">Effective wavenumbers and wavemodes</a><a id="Effective-wavenumbers-and-wavemodes-1"></a><a class="docs-heading-anchor-permalink" href="#Effective-wavenumbers-and-wavemodes" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.wavenumbers" href="#EffectiveWaves.wavenumbers"><code>EffectiveWaves.wavenumbers</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">wavenumbers(ω, medium, specie; kws...)</code></pre><p>Returns all the possible effective wavenumbers with positive imaginary part when using a single type of particle called <code>specie</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/effective_waves/wavenumbers.jl#L3-L7">source</a></section><section><div><pre><code class="language-none">wavenumbers(ω, medium::PhysicalMedium, micro::Microstructure; kws...)</code></pre><p>Returns all the possible effective wavenumbers with positive imaginary part. This function requires significantly numerical optimisation and so can be slow.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/effective_waves/wavenumbers.jl#L19-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.wavenumber_low_volumefraction" href="#EffectiveWaves.wavenumber_low_volumefraction"><code>EffectiveWaves.wavenumber_low_volumefraction</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">wavenumber_low_volumefraction(ω::T, medium::Acoustic{T,Dim}, micro::Microstructure{Dim}; basis_order::Int = 2)</code></pre><p>Explicit formula for one effective wavenumber based on a low particle volume fraction expansion.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/acoustics/effective_wave/low_volumefraction.jl#L12-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.effective_medium" href="#EffectiveWaves.effective_medium"><code>EffectiveWaves.effective_medium</code></a> — <span class="docstring-category">Function</span></header><section><div><p>The effective low frequency bulk modulus and density of a material filled with particles</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/acoustics/low_frequency.jl#L3">source</a></section></article><h2 id="Effective-wavemodes-and-eignvectors"><a class="docs-heading-anchor" href="#Effective-wavemodes-and-eignvectors">Effective wavemodes and eignvectors</a><a id="Effective-wavemodes-and-eignvectors-1"></a><a class="docs-heading-anchor-permalink" href="#Effective-wavemodes-and-eignvectors" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.WaveMode" href="#EffectiveWaves.WaveMode"><code>EffectiveWaves.WaveMode</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">WaveMode(ω::T, wavenumber::Complex{T}, eigenvectors::Array{Complex{T}}, ::SetupSymmetry; kws...)</code></pre><p>Returns a concrete subtype of AbstractWaveMode depending on the SetupSymmetry. The returned type should have all the necessary fields to calculate scattered waves (currently not true for EffectivePlanarWaves).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/effective_waves/wavemode.jl#L24-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.WaveModes" href="#EffectiveWaves.WaveModes"><code>EffectiveWaves.WaveModes</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Calculates the effective wavenumbers and return Vector{EffectivePlaneWaveMode}.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/effective_waves/wavemode.jl#L10">source</a></section></article><h2 id="Reflection-coefficients"><a class="docs-heading-anchor" href="#Reflection-coefficients">Reflection coefficients</a><a id="Reflection-coefficients-1"></a><a class="docs-heading-anchor-permalink" href="#Reflection-coefficients" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.reflection_coefficient" href="#EffectiveWaves.reflection_coefficient"><code>EffectiveWaves.reflection_coefficient</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">reflection_coefficient(ω::T, wave_eff::EffectivePlaneWaveMode, psource::PlaneSource{T,2,1,Acoustic}, material::Material{Halfspace}; [x::T = zero(T)])</code></pre><p>The reflection coefficient in 2D for acoustics for just one <a href="#EffectiveWaves.EffectivePlaneWaveMode"><code>EffectivePlaneWaveMode</code></a>&quot;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/effective_waves/plane_waves/reflection-transmission.jl#L3-L7">source</a></section><section><div><p>Calculates the reflection coefficient from each wave in waves and then sums the results.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/effective_waves/plane_waves/reflection_coefficient.jl#L16">source</a></section><section><div><p>reflection_coefficient(PlaneSource, Acoustic[, Halfspace = Halfspace(-psource.direction)])</p><p>calculates the reflection coefficient from a homogenious halfspace (assumed to direct incidence if not given), which is also the low frequency reflection from a particulate material when using the effective_medium.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/acoustics/low_frequency.jl#L38-L42">source</a></section><section><div><pre><code class="language-none">reflection_coefficient(ω::T, m_wave::MatchPlaneWaveMode,
    source::PlaneSource, material::Material{Halfspace{T,2}};</code></pre><p>Calculate the reflection coefficient from a matched wave. This requires using both the discrete part and effective wavemode of the matched wave.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/match_waves/reflection.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.reflection_coefficient-Union{Tuple{T}, Tuple{T,EffectivePlaneWaveMode{T,Dim} where Dim,PlaneSource{T,2,1,Acoustic{T,2}},Material{Halfspace{T,2},M} where M&lt;:Microstructure}} where T&lt;:AbstractFloat" href="#EffectiveWaves.reflection_coefficient-Union{Tuple{T}, Tuple{T,EffectivePlaneWaveMode{T,Dim} where Dim,PlaneSource{T,2,1,Acoustic{T,2}},Material{Halfspace{T,2},M} where M&lt;:Microstructure}} where T&lt;:AbstractFloat"><code>EffectiveWaves.reflection_coefficient</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">reflection_coefficient(ω::T, wave_eff::EffectivePlaneWaveMode, psource::PlaneSource{T,2,1,Acoustic}, material::Material{Halfspace}; [x::T = zero(T)])</code></pre><p>The reflection coefficient in 2D for acoustics for just one <a href="#EffectiveWaves.EffectivePlaneWaveMode"><code>EffectivePlaneWaveMode</code></a>&quot;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/effective_waves/plane_waves/reflection-transmission.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.reflection_coefficient_low_volumefraction" href="#EffectiveWaves.reflection_coefficient_low_volumefraction"><code>EffectiveWaves.reflection_coefficient_low_volumefraction</code></a> — <span class="docstring-category">Function</span></header><section><div><p>An explicit formula for the refleciton coefficient based on a low particle volume fraction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/acoustics/effective_wave/low_volumefraction.jl#L92">source</a></section></article><h2 id="Transmission"><a class="docs-heading-anchor" href="#Transmission">Transmission</a><a id="Transmission-1"></a><a class="docs-heading-anchor-permalink" href="#Transmission" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.transmission_direction" href="#EffectiveWaves.transmission_direction"><code>EffectiveWaves.transmission_direction</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">transmission_direction(k_eff::Complex, incident_wavevector::AbstractArray, surface_normal::AbstractArray)</code></pre><p>Gives the effective direction <code>direction</code> where <code>sum(direction .^ 2) = 1.0</code> and the components of <code>k_eff .* direction</code> and <code>incident_wavevector</code> which are orthogonal to the surface are the same. Note <code>surface_normal</code> is the outward pointing normal and the incident medium&#39;s wavenumber <code>k = sqrt(sum(incident_wavevector .^2))</code>. Below we deduce the result.</p><p>Assume that <code>dot(v,w) = conj(v[i])w[i]</code> and <code>surface_normal[i]*surface_normal[i] = 1</code>. Let <code>wnp</code> be orthogonal to <code>surface_normal</code></p><pre><code class="language-none">wnp =  incident_wavevector -  dot(surface_normal,incident_wavevector) .* surface_normal</code></pre><p>Then we know that the effective transmission wavevector has to equal</p><pre><code class="language-none">k_eff_vec = wnp + α .* surface_normal</code></pre><p>where α is determined so that</p><pre><code class="language-none">sum(x^2 for x in wnp) + α^2  = sum(x^2 for x in k_eff_vec) = k_eff^2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/specialfunctions.jl#L4-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.transmission_angle-Tuple{Array{T,1} where T,Array{T,1} where T}" href="#EffectiveWaves.transmission_angle-Tuple{Array{T,1} where T,Array{T,1} where T}"><code>EffectiveWaves.transmission_angle</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">transmission_angle(wavevector, surface_normal)</code></pre><p>Calculates the transmission angle for a wave propagting inside a material which has the outward normal <code>surface_normal</code>. The wave propagates in the direction of <code>wavevector</code> with a wavenumber given by <code>k = sqrt(sum(wavevector .^2))</code>, where <code>k</code> should have a positive imaginary part.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/specialfunctions.jl#L54-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.transmission_angle-Union{Tuple{T}, Tuple{StaticArrays.SArray{Tuple{2},CT,1,2} where CT&lt;:Union{Complex{T}, T},StaticArrays.SArray{Tuple{2},T,1,2}}} where T&lt;:AbstractFloat" href="#EffectiveWaves.transmission_angle-Union{Tuple{T}, Tuple{StaticArrays.SArray{Tuple{2},CT,1,2} where CT&lt;:Union{Complex{T}, T},StaticArrays.SArray{Tuple{2},T,1,2}}} where T&lt;:AbstractFloat"><code>EffectiveWaves.transmission_angle</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">transmission_angle(wavevector::StaticVector{2}, surface_normal::StaticVector{2})</code></pre><p>Specialised to 2 spatial dimensions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/specialfunctions.jl#L117-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.transmission_angle-Union{Tuple{T}, Tuple{StaticArrays.SArray{Tuple{3},CT,1,3} where CT&lt;:Union{Complex{T}, T},StaticArrays.SArray{Tuple{3},T,1,3}}} where T&lt;:AbstractFloat" href="#EffectiveWaves.transmission_angle-Union{Tuple{T}, Tuple{StaticArrays.SArray{Tuple{3},CT,1,3} where CT&lt;:Union{Complex{T}, T},StaticArrays.SArray{Tuple{3},T,1,3}}} where T&lt;:AbstractFloat"><code>EffectiveWaves.transmission_angle</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">transmission_angle(wavevector::StaticVector{3}, surface_normal::StaticVector{3})</code></pre><p>Some care is needed when <code>wavevector</code> is a complex vector in 3 dimensions.</p><p><strong>The maths</strong></p><p>Let&#39;s define the normal projection <code>vn</code>:</p><pre><code class="language-none">n = - surface_normal
vn = dot(n,wavevector) .* n</code></pre><p>remembering that in Julia, and mathematics, <code>dot(v,w) = sum(conj(v[i])*w[i] for i in eachindex(v))</code>.</p><p>We now define the orthogonal component <code>vo</code> and its direction <code>no</code>:</p><pre><code class="language-none">vo = wavevector - vn
no = vo / sqrt(sum(vo.^2))</code></pre><p>Note this assumes that <code>vo</code> is a real vector, which it should be due to symmetry.</p><p>To determine the transmission angle <code>θT</code> we calculate the wavenumber</p><pre><code class="language-none">k = ± sqrt(sum(wavevector .^2))</code></pre><p>where we choose the sign in <code>±</code> such that <code>imag(k) &gt;= 0</code>.</p><p>From the above we can write the <code>wavevector</code> in the form</p><pre><code class="language-none">wavevector = k .* (n .* cos(θ) + no .* sin(θ))</code></pre><p>which implies that</p><pre><code class="language-none">k * cos(θ) = dot(conj(n), wavevector)
k * sin(θ) = dot(conj(no),wavevector) = dot(conj(no),vo) = sqrt(sum(vo.^2))</code></pre><p>From these two we can robustly calculate <code>θT</code> as</p><pre><code class="language-none">θT = atan(sqrt(sum(vo.^2)),dot(n,wavevector))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/specialfunctions.jl#L61-L101">source</a></section></article><h2 id="Statistics"><a class="docs-heading-anchor" href="#Statistics">Statistics</a><a id="Statistics-1"></a><a class="docs-heading-anchor-permalink" href="#Statistics" title="Permalink"></a></h2><h2 id="All-types"><a class="docs-heading-anchor" href="#All-types">All types</a><a id="All-types-1"></a><a class="docs-heading-anchor-permalink" href="#All-types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.Microstructure" href="#EffectiveWaves.Microstructure"><code>EffectiveWaves.Microstructure</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Microstructure{Dim}</code></pre><p>Every <a href="#EffectiveWaves.Material"><code>Material</code></a> has a shape and has a microstructure. Currently <a href="#EffectiveWaves.ParticulateMicrostructure"><code>ParticulateMicrostructure</code></a> is the only example microstructure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/abstract_types.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.Microstructure-Union{Tuple{Dim}, Tuple{PhysicalMedium,Array{S,1} where S&lt;:Specie{Dim,P} where P}} where Dim" href="#EffectiveWaves.Microstructure-Union{Tuple{Dim}, Tuple{PhysicalMedium,Array{S,1} where S&lt;:Specie{Dim,P} where P}} where Dim"><code>EffectiveWaves.Microstructure</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Microstructure(medium::PhysicalMedium, sps::Vector{Specie})</code></pre><p>When no pair-correlation is specified for the species, the microstructure will use the default that assumes that particles can not overlap, but, otherwise, their positions are uncorrelated. This is often called &quot;Hole Correction&quot;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/material_types.jl#L54-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.ParticulateMicrostructure" href="#EffectiveWaves.ParticulateMicrostructure"><code>EffectiveWaves.ParticulateMicrostructure</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ParticulateMicrostructure</code></pre><p>Represents a microstructure filled with multiply species of particles. ParticulateMicrostructure.paircorrelations specifies the pair correlation between each of the species. That is, how the particles are distributed on average.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/material_types.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.EffectivePlaneWaveMode-Union{Tuple{Dim}, Tuple{T}, Tuple{T,Complex{T},StaticArrays.SArray{Tuple{Dim},Complex{T},1,Dim},Array{Complex{T},N} where N}} where Dim where T&lt;:AbstractFloat" href="#EffectiveWaves.EffectivePlaneWaveMode-Union{Tuple{Dim}, Tuple{T}, Tuple{T,Complex{T},StaticArrays.SArray{Tuple{Dim},Complex{T},1,Dim},Array{Complex{T},N} where N}} where Dim where T&lt;:AbstractFloat"><code>EffectiveWaves.EffectivePlaneWaveMode</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">EffectivePlaneWaveMode(ω, wavenumber::Complex, direction::Array{Complex}, eigenvectors::Array{Complex})</code></pre><p>A convienient way to form the type <code>EffectivePlaneWaveMode</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/wave_types.jl#L53-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EffectiveWaves.ScatteringCoefficientsField-Union{Tuple{P}, Tuple{Dim}, Tuple{Real,P,Material,Function}} where P&lt;:(PhysicalMedium{Dim,FieldDim} where FieldDim) where Dim" href="#EffectiveWaves.ScatteringCoefficientsField-Union{Tuple{P}, Tuple{Dim}, Tuple{Real,P,Material,Function}} where P&lt;:(PhysicalMedium{Dim,FieldDim} where FieldDim) where Dim"><code>EffectiveWaves.ScatteringCoefficientsField</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ScatteringCoefficientsField(ω::T, medium::P, material::Material, coefficient_field::Function; symmetry::AbstractSymmetry{Dim} = WithoutSymmetry{Dim})</code></pre><p>A type to hold the results of methods which produce a function of the scattering field</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWaveScattering/EffectiveWaves.jl/blob/8a39efcf2b63da712e62890dcdfacaf8b0163904/src/wave_types.jl#L127-L131">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../manual/pair-correlation/">« Pair correlation</a><a class="docs-footer-nextpage" href="../../theory/README/">Theory »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 14 August 2024 16:39">Wednesday 14 August 2024</span>. Using Julia version 1.5.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
